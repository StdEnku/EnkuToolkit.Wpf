# Execute effects when the display state changes

例えばカウンターを作成した場合などのでカウントアップボタンやカウントダウンボタンなどがクリックされて画面上の状態が変化した場合などにエフェクトを実行したくなることはありませんか？
そのような場合のために本ライブラリではTransitionEffectContentControlと呼ばれるクラスが存在します。
このクラスは通常のContentControlと同じように使用することができますが、
ContentControlには存在しない以下のメンバを持っています。




MainWindow.xaml

``` Xaml
<Window ~Ellipsis~
        xmlns:et="https://github.com/StdEnku/EnkuToolkit">

    <DockPanel LastChildFill="True">
        <UniformGrid Columns="2" DockPanel.Dock="Bottom" IsEnabled="{Binding ElementName=transitionEffect, Path=IsCompleted}">
            <Button Content="+" Margin="10" FontSize="30" Click="PlusButtonClicked" />
            <Button Content="-" Margin="10" FontSize="30" Click="MinusButtonClicked" />
        </UniformGrid>
        
        <et:TransitionEffectContentControl Name="transitionEffect" DockPanel.Dock="Top" TransitionEffect="VerticalSlide">
            <Viewbox>
                <Label Content="0" Name="label" />
            </Viewbox>
        </et:TransitionEffectContentControl>
    </DockPanel>
</Window>
```



MainWindow.xaml.cs

```c#
namespace MyApp;

using System.Diagnostics;
using System.Reflection;
using System.Windows;
using System.Windows.Controls;

public partial class MainWindow : Window
{
    private int _count;

    public MainWindow()
    {
        InitializeComponent();
    }

    private void PlusButtonClicked(object sender, RoutedEventArgs e)
    {
        _count++;
        transitionEffect.Snapshot(); //Snapshot taken before screen update
        label.Content = _count;
        transitionEffect.RunForwardEffect(); //Effect execution after screen refresh
    }

    private void MinusButtonClicked(object sender, RoutedEventArgs e)
    {
        _count--;
        transitionEffect.Snapshot(); //Snapshot taken before screen update
        label.Content = _count;
        transitionEffect.RunBackwardEffect(); //Effect execution after screen refresh
    }
}
```

Result

![](../images/4_Example.gif)
